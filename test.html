<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypto Deposit Interface</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        .bg-gradient-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .bg-gradient-blue {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        .coin-select-btn {
            transition: all 0.3s ease;
        }

        .coin-select-btn:hover {
            border-color: #4facfe !important;
            box-shadow: 0 4px 15px rgba(79, 172, 254, 0.2);
        }

        .coin-select-btn.active {
            border-color: #4facfe !important;
            box-shadow: 0 0 0 0.2rem rgba(79, 172, 254, 0.25);
        }

        .dropdown-arrow {
            transition: transform 0.3s ease;
        }

        .dropdown-arrow.rotated {
            transform: rotate(180deg);
        }

        .coin-dropdown {
            display: none;
        }

        .coin-dropdown.show {
            display: block;
        }

        .coin-option:hover {
            background-color: #f8f9fa;
        }

        .network-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .network-card:hover {
            border-color: #4facfe !important;
            box-shadow: 0 4px 15px rgba(79, 172, 254, 0.1);
            transform: translateY(-2px);
        }

        .network-card.selected {
            border-color: #4facfe !important;
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }

        .network-card.selected .network-icon {
            background-color: rgba(255, 255, 255, 0.2) !important;
        }

        .step-number {
            width: 30px;
            height: 30px;
        }
    </style>
</head>

<body class="bg-gradient-primary min-vh-100">
    <div class="container-fluid py-4">
        <div class="row justify-content-center">
            <div class="col-12 col-md-8 col-lg-6">
                <div class="card shadow-lg border-0" style="border-radius: 20px; overflow: hidden;">
                    <!-- Header -->
                    <div class="card-header bg-gradient-blue text-white text-center py-4 border-0">
                        <h2 class="mb-0 d-flex align-items-center justify-content-center">
                            <div class="bg-white bg-opacity-20 rounded-3 p-2 me-3">
                                <i class="fas fa-wallet fs-5"></i>
                            </div>
                            Deposit
                        </h2>
                    </div>

                    <div class="card-body p-4 p-md-5">
                        <!-- Step 1: Select Coin/Token -->
                        <div class="mb-5">
                            <div class="d-flex align-items-center mb-4">
                                <div
                                    class="step-number bg-gradient-blue text-white rounded-circle d-flex align-items-center justify-content-center fw-bold me-3">
                                    1
                                </div>
                                <h3 class="mb-0 fw-bold text-dark">Select Coin/Token</h3>
                            </div>

                            <div class="position-relative">
                                <button type="button"
                                    class="coin-select-btn btn btn-outline-secondary d-flex justify-content-between align-items-center w-100 p-3 border-2"
                                    id="coinSelectBtn" style="border-radius: 12px;">
                                    <div class="d-flex align-items-center">
                                        <div class="coin-icon rounded-circle d-flex align-items-center justify-content-center text-white fw-bold me-3"
                                            style="width: 32px; height: 32px; background: #2775ca;" id="selectedIcon">
                                            <i class="fas fa-dollar-sign"></i>
                                        </div>
                                        <div class="text-start">
                                            <div class="fw-bold text-dark" id="selectedName">USDC</div>
                                            <small class="text-muted" id="selectedSymbol">USDC</small>
                                        </div>
                                    </div>
                                    <i class="fas fa-chevron-down dropdown-arrow text-muted" id="dropdownArrow"></i>
                                </button>

                                <div class="coin-dropdown position-absolute w-100 bg-white border border-2 border-top-0 shadow-lg"
                                    style="top: 100%; border-radius: 0 0 12px 12px; z-index: 1000; max-height: 300px; overflow-y: auto;"
                                    id="coinDropdown">

                                    <div class="coin-option d-flex align-items-center p-3 border-bottom"
                                        data-coin-id="usdc" style="cursor: pointer;">
                                        <div class="coin-icon rounded-circle d-flex align-items-center justify-content-center text-white fw-bold me-3"
                                            style="width: 32px; height: 32px; background: #2775ca;">
                                            <i class="fas fa-dollar-sign"></i>
                                        </div>
                                        <div>
                                            <div class="fw-bold">USDC</div>
                                            <small class="text-muted">USDC</small>
                                        </div>
                                    </div>

                                    <div class="coin-option d-flex align-items-center p-3 border-bottom"
                                        data-coin-id="bitcoin" style="cursor: pointer;">
                                        <div class="coin-icon rounded-circle d-flex align-items-center justify-content-center text-white fw-bold me-3"
                                            style="width: 32px; height: 32px; background: #f7931a;">
                                            <i class="fab fa-bitcoin"></i>
                                        </div>
                                        <div>
                                            <div class="fw-bold">Bitcoin</div>
                                            <small class="text-muted">BTC</small>
                                        </div>
                                    </div>

                                    <div class="coin-option d-flex align-items-center p-3 border-bottom"
                                        data-coin-id="ethereum" style="cursor: pointer;">
                                        <div class="coin-icon rounded-circle d-flex align-items-center justify-content-center text-white fw-bold me-3"
                                            style="width: 32px; height: 32px; background: #627eea;">
                                            <i class="fab fa-ethereum"></i>
                                        </div>
                                        <div>
                                            <div class="fw-bold">Ethereum</div>
                                            <small class="text-muted">ETH</small>
                                        </div>
                                    </div>

                                    <div class="coin-option d-flex align-items-center p-3 border-bottom"
                                        data-coin-id="solana" style="cursor: pointer;">
                                        <div class="coin-icon rounded-circle d-flex align-items-center justify-content-center text-white fw-bold me-3"
                                            style="width: 32px; height: 32px; background: #9945ff;">
                                            <i class="fas fa-sun"></i>
                                        </div>
                                        <div>
                                            <div class="fw-bold">Solana</div>
                                            <small class="text-muted">SOL</small>
                                        </div>
                                    </div>

                                    <div class="coin-option d-flex align-items-center p-3" data-coin-id="cardano"
                                        style="cursor: pointer;">
                                        <div class="coin-icon rounded-circle d-flex align-items-center justify-content-center text-white fw-bold me-3"
                                            style="width: 32px; height: 32px; background: #0033ad;">
                                            <i class="fas fa-coins"></i>
                                        </div>
                                        <div>
                                            <div class="fw-bold">Cardano</div>
                                            <small class="text-muted">ADA</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 2: Generate Deposit Address -->
                        <div class="mb-4">
                            <div class="d-flex align-items-center mb-4">
                                <div
                                    class="step-number bg-gradient-blue text-white rounded-circle d-flex align-items-center justify-content-center fw-bold me-3">
                                    2
                                </div>
                                <h3 class="mb-0 fw-bold text-dark">Generate Deposit Address</h3>
                            </div>

                            <div class="mb-3">
                                <div class="d-flex align-items-center">
                                    <span class="fw-medium">Select Network</span>
                                    <i class="fas fa-info-circle text-muted ms-2"
                                        title="Choose the blockchain network for your deposit"
                                        data-bs-toggle="tooltip"></i>
                                </div>
                            </div>

                            <div class="row g-3" id="networkGrid">
                                <!-- Networks will be populated dynamically -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script>
        // Network configurations for each coin
        const coinNetworks = {
            usdc: [
                {
                    name: 'Ethereum (ERC20)',
                    description: 'Standard Ethereum network',
                    icon: 'fab fa-ethereum',
                    color: '#627eea',
                    id: 'eth-erc20'
                },
                {
                    name: 'Solana',
                    description: 'Fast & low fees',
                    icon: 'fas fa-sun',
                    color: '#9945ff',
                    id: 'solana'
                },
                {
                    name: 'Polygon',
                    description: 'Layer 2 solution',
                    icon: 'fas fa-layer-group',
                    color: '#8247e5',
                    id: 'polygon'
                },
                {
                    name: 'Avalanche',
                    description: 'High throughput',
                    icon: 'fas fa-mountain',
                    color: '#e84142',
                    id: 'avalanche'
                }
            ],
            bitcoin: [
                {
                    name: 'Bitcoin',
                    description: 'Native Bitcoin network',
                    icon: 'fab fa-bitcoin',
                    color: '#f7931a',
                    id: 'bitcoin-native'
                },
                {
                    name: 'Lightning Network',
                    description: 'Instant payments',
                    icon: 'fas fa-bolt',
                    color: '#ffd700',
                    id: 'bitcoin-lightning'
                }
            ],
            ethereum: [
                {
                    name: 'Ethereum',
                    description: 'Native Ethereum network',
                    icon: 'fab fa-ethereum',
                    color: '#627eea',
                    id: 'ethereum-native'
                },
                {
                    name: 'Arbitrum',
                    description: 'Layer 2 scaling',
                    icon: 'fas fa-arrow-up',
                    color: '#28a0f0',
                    id: 'arbitrum'
                },
                {
                    name: 'Optimism',
                    description: 'Optimistic rollups',
                    icon: 'fas fa-rocket',
                    color: '#ff0420',
                    id: 'optimism'
                }
            ],
            solana: [
                {
                    name: 'Solana',
                    description: 'Native Solana network',
                    icon: 'fas fa-sun',
                    color: '#9945ff',
                    id: 'solana-native'
                }
            ],
            cardano: [
                {
                    name: 'Cardano',
                    description: 'Native Cardano network',
                    icon: 'fas fa-coins',
                    color: '#0033ad',
                    id: 'cardano-native'
                }
            ]
        };

        document.addEventListener('DOMContentLoaded', function () {
            const selectBtn = document.getElementById('coinSelectBtn');
            const dropdown = document.getElementById('coinDropdown');
            const dropdownArrow = document.getElementById('dropdownArrow');
            const selectedIcon = document.getElementById('selectedIcon');
            const selectedName = document.getElementById('selectedName');
            const selectedSymbol = document.getElementById('selectedSymbol');
            const coinOptions = document.querySelectorAll('.coin-option');
            const networkGrid = document.getElementById('networkGrid');

            let selectedNetwork = null;

            // Initialize Bootstrap tooltips
            const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
            const tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
                return new bootstrap.Tooltip(tooltipTriggerEl);
            });

            // Initialize with USDC networks
            updateNetworks('usdc');

            // Toggle dropdown
            selectBtn.addEventListener('click', function (e) {
                e.stopPropagation();
                const isOpen = dropdown.classList.contains('show');

                if (isOpen) {
                    closeDropdown();
                } else {
                    openDropdown();
                }
            });

            // Handle coin selection
            coinOptions.forEach(option => {
                option.addEventListener('click', function () {
                    const coinId = this.getAttribute('data-coin-id');
                    const coinIconEl = this.querySelector('.coin-icon');
                    const coinNameEl = this.querySelector('.fw-bold');
                    const coinSymbolEl = this.querySelector('small');

                    // Update selected display
                    selectedIcon.innerHTML = coinIconEl.innerHTML;
                    selectedIcon.style.background = coinIconEl.style.background;
                    selectedName.textContent = coinNameEl.textContent;
                    selectedSymbol.textContent = coinSymbolEl.textContent;

                    // Update networks for selected coin
                    updateNetworks(coinId);

                    // Close dropdown
                    closeDropdown();
                });
            });

            // Close dropdown when clicking outside
            document.addEventListener('click', function (e) {
                if (!selectBtn.contains(e.target) && !dropdown.contains(e.target)) {
                    closeDropdown();
                }
            });

            // Keyboard navigation
            selectBtn.addEventListener('keydown', function (e) {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    selectBtn.click();
                } else if (e.key === 'Escape') {
                    closeDropdown();
                }
            });

            function openDropdown() {
                dropdown.classList.add('show');
                selectBtn.classList.add('active');
                dropdownArrow.classList.add('rotated');
                selectBtn.setAttribute('aria-expanded', 'true');
            }

            function closeDropdown() {
                dropdown.classList.remove('show');
                selectBtn.classList.remove('active');
                dropdownArrow.classList.remove('rotated');
                selectBtn.setAttribute('aria-expanded', 'false');
            }

            function updateNetworks(coinId) {
                const networks = coinNetworks[coinId] || [];
                selectedNetwork = null;

                networkGrid.innerHTML = '';

                networks.forEach(network => {
                    const col = document.createElement('div');
                    col.className = 'col-sm-6 col-lg-4';

                    const networkCard = document.createElement('div');
                    networkCard.className = 'network-card card border-2 text-center p-3';
                    networkCard.setAttribute('data-network-id', network.id);

                    networkCard.innerHTML = `
                        <div class="network-icon rounded-2 d-flex align-items-center justify-content-center text-white fs-5 mx-auto mb-2" 
                             style="width: 40px; height: 40px; background: ${network.color};">
                            <i class="${network.icon}"></i>
                        </div>
                        <div class="fw-bold mb-1">${network.name}</div>
                        <small class="text-muted">${network.description}</small>
                    `;

                    networkCard.addEventListener('click', function () {
                        // Remove selected class from all networks
                        document.querySelectorAll('.network-card').forEach(card => {
                            card.classList.remove('selected');
                        });

                        // Add selected class to clicked network
                        this.classList.add('selected');
                        selectedNetwork = network.id;

                        console.log('Selected network:', selectedNetwork);
                    });

                    col.appendChild(networkCard);
                    networkGrid.appendChild(col);
                });

                // Auto-select first network if only one is available
                if (networks.length === 1) {
                    setTimeout(() => {
                        networkGrid.querySelector('.network-card').click();
                    }, 100);
                }
            }

            // Initialize accessibility attributes
            selectBtn.setAttribute('aria-expanded', 'false');
            selectBtn.setAttribute('role', 'combobox');
            dropdown.setAttribute('role', 'listbox');
        });
    </script>
</body>

</html>